<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ä°letiÅŸim SÃ¶zlÃ¼ÄŸÃ¼ â€“ 6. SÄ±nÄ±f</title>
  <style>
    :root{
      --bg1:#0b1220;
      --bg2:#101a33;
      --card:#0f1b35cc;
      --ink:#eaf0ff;
      --muted:#b8c3e6;
      --line:#2b3a66;
      --accent:#6ee7ff;
      --accent2:#a78bfa;
      --ok:#34d399;
      --warn:#fbbf24;
      --danger:#fb7185;
      --shadow: 0 18px 50px rgba(0,0,0,.35);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(110,231,255,.18), transparent 60%),
        radial-gradient(900px 500px at 85% 20%, rgba(167,139,250,.18), transparent 60%),
        radial-gradient(900px 500px at 50% 95%, rgba(52,211,153,.10), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      min-height:100vh;
      overflow-x:hidden;
    }
    header{
      padding:28px 18px 10px;
      max-width:1100px;
      margin:0 auto;
      position:relative;
    }
    .hero{
      display:flex;
      gap:16px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .title{
      display:flex;
      gap:12px;
      align-items:center;
      flex-wrap:wrap;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(15,27,53,.55);
      border-radius:999px;
      box-shadow: 0 10px 24px rgba(0,0,0,.25);
      user-select:none;
      backdrop-filter: blur(10px);
    }
    .badge .dot{
      width:10px; height:10px; border-radius:50%;
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      box-shadow:0 0 0 4px rgba(110,231,255,.12);
    }
    h1{
      margin:0;
      font-size: clamp(24px, 3vw, 38px);
      line-height:1.1;
      letter-spacing:.2px;
    }
    p.lead{
      margin:10px 0 0;
      color:var(--muted);
      max-width:720px;
      line-height:1.45;
      font-size: 15.5px;
    }

    .panel{
      margin-top:18px;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:14px;
    }
    @media (max-width: 880px){
      .panel{grid-template-columns: 1fr; }
    }

    .controls, .stats{
      background: rgba(15,27,53,.55);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px;
      backdrop-filter: blur(12px);
    }

    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .input{
      flex:1;
      min-width:240px;
      display:flex;
      gap:10px;
      align-items:center;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(8,14,28,.65);
      border-radius: 14px;
      padding: 10px 12px;
    }
    .input input{
      width:100%;
      font-size: 15px;
      color: var(--ink);
      border:none;
      outline:none;
      background: transparent;
    }
    .chipbar{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-top:10px;
    }
    .chip{
      cursor:pointer;
      padding:8px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(8,14,28,.55);
      color: var(--muted);
      font-size: 13px;
      user-select:none;
      transition: transform .08s ease, background .15s ease, border-color .15s ease;
    }
    .chip:hover{ transform: translateY(-1px); }
    .chip.active{
      color: var(--ink);
      border-color: rgba(110,231,255,.45);
      background: rgba(110,231,255,.10);
    }

    .btn{
      cursor:pointer;
      padding:10px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: linear-gradient(135deg, rgba(110,231,255,.16), rgba(167,139,250,.14));
      color: var(--ink);
      font-weight: 700;
      font-size: 13.5px;
      letter-spacing:.2px;
      transition: transform .08s ease, filter .15s ease;
      user-select:none;
    }
    .btn:hover{ transform: translateY(-1px); filter:brightness(1.06); }

    main{
      max-width:1100px;
      margin: 10px auto 40px;
      padding: 0 18px 28px;
    }

    .grid{
      margin-top: 14px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 14px;
    }
    @media (max-width: 980px){ .grid{ grid-template-columns: repeat(2, 1fr);} }
    @media (max-width: 640px){ .grid{ grid-template-columns: 1fr;} }

    .card{
      position:relative;
      background: rgba(15,27,53,.55);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px;
      overflow:hidden;
      backdrop-filter: blur(12px);
      transition: transform .12s ease, border-color .15s ease;
    }
    .card:hover{
      transform: translateY(-2px);
      border-color: rgba(110,231,255,.22);
    }
    .card::before{
      content:"";
      position:absolute;
      inset:-50px -80px auto auto;
      width:180px; height:180px;
      background: radial-gradient(circle at 30% 30%, rgba(110,231,255,.18), transparent 60%);
      transform: rotate(18deg);
      pointer-events:none;
    }

    .word{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .word h2{
      margin:0;
      font-size: 18px;
      letter-spacing:.2px;
    }
    .tag{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:6px 9px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(8,14,28,.55);
      color: var(--muted);
      font-size: 12px;
      white-space:nowrap;
    }
    .tag b{ color: var(--ink); font-weight:800; }
    .meaning{
      margin: 10px 0 0;
      color: var(--ink);
      line-height:1.5;
      font-size: 14.5px;
    }
    .hint{
      margin: 10px 0 0;
      color: var(--muted);
      line-height:1.45;
      font-size: 13.5px;
      border-top: 1px dashed rgba(255,255,255,.16);
      padding-top: 10px;
    }
    .example{
      margin: 10px 0 0;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(8,14,28,.55);
      border:1px solid rgba(255,255,255,.12);
      color: var(--muted);
      font-size: 13.5px;
      line-height:1.4;
    }
    .example span{
      color: var(--ink);
      font-weight: 700;
    }

    .stats h3{
      margin:0;
      font-size: 15px;
      color: var(--ink);
      letter-spacing:.2px;
    }
    .kpi{
      margin-top: 10px;
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap:10px;
    }
    .box{
      background: rgba(8,14,28,.55);
      border:1px solid rgba(255,255,255,.12);
      border-radius: 14px;
      padding: 10px 12px;
    }
    .box .n{
      font-size: 20px;
      font-weight: 900;
      margin:0;
    }
    .box .t{
      margin:4px 0 0;
      color: var(--muted);
      font-size: 12.5px;
    }
    footer{
      max-width:1100px;
      margin: 0 auto 28px;
      padding: 0 18px;
      color: rgba(234,240,255,.75);
      font-size: 12.8px;
      line-height: 1.45;
    }

    /* mini confetti star */
    .spark{
      position:fixed;
      pointer-events:none;
      width:8px; height:8px;
      opacity:0;
      transform: translate(-50%,-50%) scale(.9);
      border-radius: 2px;
      background: linear-gradient(135deg,var(--accent),var(--accent2));
      box-shadow: 0 0 16px rgba(110,231,255,.35);
      transition: opacity .25s ease;
    }
  </style>
</head>

<body>
  <header>
    <div class="hero">
      <div>
        <div class="title">
          <div class="badge"><span class="dot"></span><span><b>Mini SÃ¶zlÃ¼k</b> â€¢ Ä°letiÅŸim & KonuÅŸma</span></div>
        </div>
        <h1>Ä°letiÅŸim SÃ¶zlÃ¼ÄŸÃ¼ (6. SÄ±nÄ±f)</h1>
        <p class="lead">
          Bu sayfada videoda geÃ§en â€œzorâ€ kelimeleri, <b>6. sÄ±nÄ±f dÃ¼zeyinde</b> kolay anlatÄ±mla Ã¶ÄŸreniyoruz.
          Arama kutusuna yaz, kategori seÃ§, kartlarÄ± oku. ğŸˆ
        </p>
      </div>
      <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
        <button class="btn" id="randomBtn" title="Rastgele bir kelime seÃ§">ğŸ² Rastgele</button>
        <button class="btn" id="quizBtn" title="Mini test moduna geÃ§">ğŸ§  Mini Test</button>
      </div>
    </div>

    <div class="panel">
      <div class="controls">
        <div class="row">
          <div class="input" title="Kelime ara">
            ğŸ” <input id="search" type="text" placeholder="Kelime ara... (Ã¶rn: iletiÅŸim, vasÄ±f, tesis)" />
          </div>
          <button class="btn" id="clearBtn" title="Filtreleri temizle">ğŸ§½ Temizle</button>
        </div>

        <div class="chipbar" id="chips"></div>
      </div>

      <div class="stats">
        <h3>ğŸ“Œ Ä°statistik</h3>
        <div class="kpi">
          <div class="box">
            <p class="n" id="totalCount">0</p>
            <p class="t">Toplam kelime</p>
          </div>
          <div class="box">
            <p class="n" id="shownCount">0</p>
            <p class="t">GÃ¶sterilen kelime</p>
          </div>
          <div class="box">
            <p class="n" id="catCount">0</p>
            <p class="t">Kategori</p>
          </div>
          <div class="box">
            <p class="n" id="mode">SÃ¶zlÃ¼k</p>
            <p class="t">Mod</p>
          </div>
        </div>
        <div style="margin-top:10px; color:var(--muted); font-size:12.8px;">
          Ä°pucu: â€œMini Testâ€te kartlarÄ±n anlamÄ±nÄ± gizleyip tahmin ettiriyoruz. ğŸ˜„
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="grid" id="grid"></div>
  </main>

  <footer>
    <b>Not:</b> Anlamlar 6. sÄ±nÄ±f dÃ¼zeyine gÃ¶re sadeleÅŸtirilmiÅŸtir. BazÄ± kelimelerde TDKâ€™daki temel anlamdan
    yararlanÄ±lmÄ±ÅŸtÄ±r; ancak metnin baÄŸlamÄ±na uygun ÅŸekilde Ã§ocuklarÄ±n anlayacaÄŸÄ± biÃ§imde yeniden yazÄ±lmÄ±ÅŸtÄ±r.
  </footer>

  <div class="spark" id="spark"></div>

  <script>
    // --- Data (6. sÄ±nÄ±f dÃ¼zeyi aÃ§Ä±klamalar + Ã¶rnek) ---
    const WORDS = [
      // Kavramsal / Soyut
      { w:"iletiÅŸim", cat:"Kavram", lvl:"Orta", m:"Ä°nsanlarÄ±n duygu, dÃ¼ÅŸÃ¼nce ve bilgileri birbirine aktarmasÄ±dÄ±r.", hint:"KonuÅŸma, yazma, iÅŸaret, mesajâ€¦ hepsi iletiÅŸime girer.", ex:"<span>Ã–rnek:</span> ArkadaÅŸÄ±nla konuÅŸmak da bir iletiÅŸimdir."},
      { w:"sÃ¼reÃ§", cat:"Kavram", lvl:"Orta", m:"Bir iÅŸin baÅŸtan sona ilerlediÄŸi zaman ve aÅŸamalar bÃ¼tÃ¼nÃ¼dÃ¼r.", hint:"Bir ÅŸey bir anda olmaz; adÄ±m adÄ±m olur.", ex:"<span>Ã–rnek:</span> SÄ±nava hazÄ±rlanmak bir sÃ¼reÃ§tir."},
      { w:"ifade etmek", cat:"Kavram", lvl:"Kolay", m:"Duygu veya dÃ¼ÅŸÃ¼nceni anlatmak, sÃ¶ylemek demektir.", hint:"Kendini anlatmak gibi dÃ¼ÅŸÃ¼nebilirsin.", ex:"<span>Ã–rnek:</span> DuygularÄ±nÄ± dÃ¼zgÃ¼n ifade etmek Ã¶nemlidir."},
      { w:"mesaj", cat:"Kavram", lvl:"Kolay", m:"Birine iletilen sÃ¶z, yazÄ± ya da bilgi demektir.", hint:"Telefon mesajÄ± da olur; bir resimle verilen mesaj da.", ex:"<span>Ã–rnek:</span> Ã–ÄŸretmenin mesajÄ±nÄ± dikkatle dinledik."},
      { w:"tutum", cat:"Kavram", lvl:"Zor", m:"Bir olay veya kiÅŸiye karÅŸÄ± genel duruÅŸumuz ve yaklaÅŸÄ±mÄ±mÄ±zdÄ±r.", hint:"Bir ÅŸeye nasÄ±l baktÄ±ÄŸÄ±nÄ± gÃ¶sterir.", ex:"<span>Ã–rnek:</span> SÄ±nÄ±fta saygÄ±lÄ± bir tutum sergilemek gerekir."},
      { w:"tavÄ±r", cat:"Kavram", lvl:"Orta", m:"Bir durumda gÃ¶sterdiÄŸimiz davranÄ±ÅŸ biÃ§imidir.", hint:"YÃ¼z ifaden, konuÅŸman ve hareketlerin tavrÄ±nÄ± gÃ¶sterir.", ex:"<span>Ã–rnek:</span> Sinirli tavÄ±r bazen yanlÄ±ÅŸ anlaÅŸÄ±lÄ±r."},
      { w:"izlenim", cat:"Kavram", lvl:"Zor", m:"Birini ilk gÃ¶rdÃ¼ÄŸÃ¼nde sende oluÅŸan ilk dÃ¼ÅŸÃ¼nce ve duygudur.", hint:"â€˜Ä°lk izlenimâ€™ genelde Ã§abuk oluÅŸur.", ex:"<span>Ã–rnek:</span> Ä°lk izlenim Ã§ok etkileyici olabilir."},
      { w:"ilham", cat:"Kavram", lvl:"Zor", m:"Bir anda gelen gÃ¼zel fikir, iÃ§ten gelen istektir.", hint:"Seni harekete geÃ§iren â€˜kÄ±vÄ±lcÄ±mâ€™ gibi.", ex:"<span>Ã–rnek:</span> Bu konuÅŸma bana ilham verdi."},
      { w:"kimlik", cat:"Kavram", lvl:"Orta", m:"Bir insanÄ±n â€˜kim olduÄŸunuâ€™ anlatan Ã¶zelliklerin bÃ¼tÃ¼nÃ¼; kiÅŸiliÄŸi, tarzÄ±, deÄŸerleri.", hint:"Sadece nÃ¼fus cÃ¼zdanÄ± deÄŸil; kiÅŸilik anlamÄ± da var.", ex:"<span>Ã–rnek:</span> KonuÅŸma tarzÄ± insanÄ±n kimliÄŸini yansÄ±tÄ±r."},
      { w:"deÄŸerli", cat:"Duygu", lvl:"Kolay", m:"Ã–nemli, kÄ±ymetli demektir.", hint:"Birini dinlemek ona deÄŸer verdiÄŸini gÃ¶sterir.", ex:"<span>Ã–rnek:</span> ArkadaÅŸÄ±na deÄŸerli olduÄŸunu hissettirmek gÃ¼zeldir."},

      // Az kullanÄ±lan / DÃ¼zeyi aÅŸan
      { w:"vasÄ±f", cat:"Zor Kelime", lvl:"Zor", m:"Bir insanÄ±n sahip olduÄŸu Ã¶zellik veya beceridir.", hint:"â€˜VasÄ±flÄ±â€™ = yetenekli / donanÄ±mlÄ±.", ex:"<span>Ã–rnek:</span> Bu iÅŸ iÃ§in bazÄ± vasÄ±flar gerekir."},
      { w:"rezil", cat:"Duygu", lvl:"Orta", m:"Ã‡ok kÃ¶tÃ¼ duruma dÃ¼ÅŸmÃ¼ÅŸ, utandÄ±rÄ±cÄ± hÃ¢le gelmiÅŸ demektir.", hint:"Kaba sÃ¶zler insanÄ± rezil edebilir.", ex:"<span>Ã–rnek:</span> ArkadaÅŸÄ±nÄ± herkesin iÃ§inde rezil etme."},
      { w:"vezir", cat:"Mecaz", lvl:"Zor", m:"Eski zamanda devlet yÃ¶neticisi. Metinde â€˜Ã§ok yÃ¼kselmekâ€™ anlamÄ±nda mecaz olarak kullanÄ±lÄ±r.", hint:"â€˜Vezir etmekâ€™ = yÃ¼celtmek; â€˜rezil etmekâ€™ = kÃ¼Ã§Ã¼ltmek.", ex:"<span>Ã–rnek:</span> GÃ¼zel konuÅŸma insanÄ± vezir de eder."},
      { w:"seyir", cat:"Zor Kelime", lvl:"Zor", m:"Bir iÅŸin gidiÅŸi, nasÄ±l ilerlediÄŸi demektir.", hint:"â€˜KonuÅŸmanÄ±n seyriâ€™ = konuÅŸmanÄ±n gidiÅŸatÄ±.", ex:"<span>Ã–rnek:</span> TartÄ±ÅŸmanÄ±n seyri birden deÄŸiÅŸti."},
      { w:"tesis etmek", cat:"Zor Kelime", lvl:"Zor", m:"Kurmak, oluÅŸturmak, saÄŸlamlaÅŸtÄ±rmak demektir.", hint:"â€˜BarÄ±ÅŸÄ± tesis etmekâ€™ = barÄ±ÅŸÄ± kurmak.", ex:"<span>Ã–rnek:</span> Okulda barÄ±ÅŸÄ± tesis etmek iÃ§in adil olmak gerekir."},
      { w:"nihayetinde", cat:"Zor Kelime", lvl:"Zor", m:"SonuÃ§ olarak, en sonunda demektir.", hint:"CÃ¼mleyi toparlamak iÃ§in kullanÄ±lÄ±r.", ex:"<span>Ã–rnek:</span> Nihayetinde herkes aynÄ± sonuca vardÄ±."},
      { w:"tarama", cat:"Mecaz", lvl:"Orta", m:"Burada â€˜etrafÄ± hÄ±zlÄ±ca incelemekâ€™ anlamÄ±ndadÄ±r.", hint:"Bilgisayarda â€˜taramaâ€™ baÅŸka; burada mecaz var.", ex:"<span>Ã–rnek:</span> Ä°Ã§eri girmeden Ã¶nce odayÄ± tarayÄ±n."},
      { w:"beden dili", cat:"Kavram", lvl:"Orta", m:"Jest, mimik, duruÅŸ gibi bedenimizin verdiÄŸi mesajlardÄ±r.", hint:"SÃ¶zsÃ¼z iletiÅŸim de denir.", ex:"<span>Ã–rnek:</span> GÃ¼lÃ¼msemek gÃ¼Ã§lÃ¼ bir beden dilidir."},
      { w:"gÃ¶z temasÄ±", cat:"Kavram", lvl:"Orta", m:"KonuÅŸurken karÅŸÄ±ndakinin gÃ¶zlerine uygun ÅŸekilde bakmaktÄ±r.", hint:"Dik dik bakmak deÄŸil; doÄŸal ve saygÄ±lÄ± bakÄ±ÅŸ.", ex:"<span>Ã–rnek:</span> Sunumda gÃ¶z temasÄ± kurmak Ã¶nemlidir."},

      // MecazlÄ± ifadeler (deyim/ifade)
      { w:"haklÄ±yken haksÄ±z duruma dÃ¼ÅŸmek", cat:"Deyim", lvl:"Zor", m:"AslÄ±nda doÄŸruyken, yanlÄ±ÅŸ bir davranÄ±ÅŸ yÃ¼zÃ¼nden haksÄ±z gÃ¶rÃ¼nmek demektir.", hint:"BaÄŸÄ±rmak, kÄ±rÄ±cÄ± konuÅŸmak buna sebep olabilir.", ex:"<span>Ã–rnek:</span> BaÄŸÄ±rÄ±nca haklÄ±yken haksÄ±z duruma dÃ¼ÅŸtÃ¼."},
      { w:"bir adÄ±m Ã¶ne Ã§Ä±kmak", cat:"Deyim", lvl:"Orta", m:"DiÄŸerlerinden biraz daha baÅŸarÄ±lÄ± veya dikkat Ã§ekici olmak demektir.", hint:"KÃ¼Ã§Ã¼k bir fark bile Ã¶ne Ã§Ä±karÄ±r.", ex:"<span>Ã–rnek:</span> GÃ¼zel konuÅŸanlar bir adÄ±m Ã¶ne Ã§Ä±kabiliyor."},
      { w:"hayatÄ±ndan bezdirmek", cat:"Deyim", lvl:"Zor", m:"Birini Ã§ok sÄ±kÄ±p bÄ±ktÄ±rmak, yaÅŸama isteÄŸini azaltmak gibi aÄŸÄ±r bir anlam taÅŸÄ±r.", hint:"ÃœzÃ¼cÃ¼ konuÅŸmalar buna yol aÃ§abilir.", ex:"<span>Ã–rnek:</span> SÃ¼rekli eleÅŸtiri insanÄ± hayatÄ±ndan bezdirebilir."},
      { w:"baÄŸ kurmak", cat:"Kavram", lvl:"Orta", m:"Bir insanla yakÄ±nlÄ±k oluÅŸturmak, arada iliÅŸki ve gÃ¼ven oluÅŸmasÄ± demektir.", hint:"Ä°yi iletiÅŸim baÄŸÄ± gÃ¼Ã§lendirir.", ex:"<span>Ã–rnek:</span> Sohbet ederken yeni bir baÄŸ kurarsÄ±n."},
      { w:"Ã§iÃ§ekler aÃ§Ä±yor", cat:"Mecaz", lvl:"Orta", m:"Her ÅŸeyin gÃ¼zelleÅŸmesi, ortamÄ±n iyiye gitmesi anlamÄ±nda kullanÄ±lÄ±r.", hint:"GerÃ§ek Ã§iÃ§ek deÄŸil; mecaz.", ex:"<span>Ã–rnek:</span> Ä°nsanlar deÄŸer gÃ¶rÃ¼nce â€˜Ã§iÃ§ekler aÃ§Ä±yorâ€™."},
      { w:"sÃ¶zÃ¼nÃ¼ yÃ¼kseltmek", cat:"Mecaz", lvl:"Zor", m:"BaÄŸÄ±rmak yerine, sÃ¶zÃ¼nÃ¼n deÄŸerini artÄ±rmak; gÃ¼zel ve doÄŸru konuÅŸmak demektir.", hint:"Mevlanaâ€™nÄ±n sÃ¶zÃ¼nde geÃ§er.", ex:"<span>Ã–rnek:</span> Sesini deÄŸil, sÃ¶zÃ¼nÃ¼ yÃ¼kselt."}
    ];

    const CATS = ["TÃ¼mÃ¼", ...Array.from(new Set(WORDS.map(x=>x.cat)))];

    // --- State ---
    let activeCat = "TÃ¼mÃ¼";
    let mode = "dict"; // dict | quiz

    const elGrid = document.getElementById("grid");
    const elSearch = document.getElementById("search");
    const elChips = document.getElementById("chips");
    const elTotalCount = document.getElementById("totalCount");
    const elShownCount = document.getElementById("shownCount");
    const elCatCount = document.getElementById("catCount");
    const elMode = document.getElementById("mode");

    // --- UI helpers ---
    function escapeHTML(str){
      return str.replace(/[&<>"']/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[s]));
    }

    function buildChips(){
      elChips.innerHTML = "";
      CATS.forEach(cat=>{
        const b = document.createElement("button");
        b.className = "chip" + (cat===activeCat ? " active" : "");
        b.textContent = (cat==="TÃ¼mÃ¼" ? "âœ¨ TÃ¼mÃ¼" : cat);
        b.addEventListener("click", ()=>{
          activeCat = cat;
          buildChips();
          render();
          sparkle();
        });
        elChips.appendChild(b);
      });
      elCatCount.textContent = (CATS.length - 1).toString();
    }

    function filteredWords(){
      const q = elSearch.value.trim().toLowerCase();
      return WORDS.filter(x=>{
        const inCat = (activeCat==="TÃ¼mÃ¼") || x.cat===activeCat;
        const inQuery = !q || (x.w.toLowerCase().includes(q) || x.m.toLowerCase().includes(q));
        return inCat && inQuery;
      });
    }

    function levelEmoji(lvl){
      if(lvl==="Kolay") return "ğŸŸ¢";
      if(lvl==="Orta") return "ğŸŸ¡";
      return "ğŸ”´";
    }

    function render(){
      const list = filteredWords();
      elTotalCount.textContent = WORDS.length.toString();
      elShownCount.textContent = list.length.toString();
      elMode.textContent = (mode==="dict" ? "SÃ¶zlÃ¼k" : "Mini Test");

      elGrid.innerHTML = "";
      list.forEach(x=>{
        const card = document.createElement("article");
        card.className = "card";

        const meaning = (mode==="dict")
          ? `<div class="meaning">${escapeHTML(x.m)}</div>`
          : `<div class="meaning" data-hidden="1" style="filter: blur(8px); user-select:none;">
               ${escapeHTML(x.m)}
             </div>
             <div class="hint">ğŸ§  Tahmin ettikten sonra <b>â€œAnlamÄ± GÃ¶sterâ€</b>e bas.</div>`;

        const btn = (mode==="quiz")
          ? `<div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap;">
               <button class="btn" data-show="${escapeHTML(x.w)}">ğŸ‘€ AnlamÄ± GÃ¶ster</button>
               <button class="btn" data-hide="${escapeHTML(x.w)}">ğŸ™ˆ Tekrar Gizle</button>
             </div>`
          : "";

        card.innerHTML = `
          <div class="word">
            <h2>${escapeHTML(x.w)}</h2>
            <span class="tag">${levelEmoji(x.lvl)} <b>${escapeHTML(x.lvl)}</b> â€¢ ${escapeHTML(x.cat)}</span>
          </div>
          ${meaning}
          <div class="hint">ğŸ’¡ Ä°pucu: ${escapeHTML(x.hint)}</div>
          <div class="example">${x.ex}</div>
          ${btn}
        `;

        elGrid.appendChild(card);
      });

      // quiz buttons
      if(mode==="quiz"){
        elGrid.querySelectorAll("button[data-show]").forEach(btn=>{
          btn.addEventListener("click", ()=>{
            const card = btn.closest(".card");
            const m = card.querySelector(".meaning");
            if(m){
              m.style.filter = "none";
              m.style.userSelect = "text";
              m.dataset.hidden = "0";
              sparkle();
            }
          });
        });
        elGrid.querySelectorAll("button[data-hide]").forEach(btn=>{
          btn.addEventListener("click", ()=>{
            const card = btn.closest(".card");
            const m = card.querySelector(".meaning");
            if(m){
              m.style.filter = "blur(8px)";
              m.style.userSelect = "none";
              m.dataset.hidden = "1";
            }
          });
        });
      }
    }

    function randomPick(){
      const list = filteredWords();
      if(list.length===0) return;
      const pick = list[Math.floor(Math.random()*list.length)];
      elSearch.value = pick.w;
      render();
      sparkle();
      window.scrollTo({top: 320, behavior:"smooth"});
    }

    // tiny sparkle effect
    const spark = document.getElementById("spark");
    function sparkle(){
      const x = Math.random() * window.innerWidth;
      const y = 120 + Math.random() * 200;
      spark.style.left = x + "px";
      spark.style.top = y + "px";
      spark.style.opacity = "1";
      spark.style.transform = "translate(-50%,-50%) rotate(20deg) scale(1.1)";
      setTimeout(()=>{
        spark.style.opacity = "0";
        spark.style.transform = "translate(-50%,-50%) rotate(0deg) scale(.9)";
      }, 260);
    }

    // --- events ---
    elSearch.addEventListener("input", ()=> render());

    document.getElementById("clearBtn").addEventListener("click", ()=>{
      elSearch.value = "";
      activeCat = "TÃ¼mÃ¼";
      mode = "dict";
      buildChips();
      render();
      sparkle();
    });

    document.getElementById("randomBtn").addEventListener("click", randomPick);

    document.getElementById("quizBtn").addEventListener("click", ()=>{
      mode = (mode==="dict") ? "quiz" : "dict";
      render();
      sparkle();
    });

    // --- init ---
    buildChips();
    render();
  </script>
</body>
</html>
